<div class="col-md-10 col-md-offset-1">
	<div *ngIf="quest">
		<div class="row">
			<p-panel header="{{'QUESTIONNAIRES.LBL_QUESTIONNAIRES' | translate}}">
				<fieldset>
					<form (ngSubmit)="f.valid && onSubmit()" #f="ngForm" novalidate>
						<div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid">
							<div class="ui-grid-row">
								<div class="ui-grid-col-4">
									<label for="codigo">* {{ 'LBL_CODIGO' | translate}}</label>
									<input type="text" pInputText id="codigo" name="codigo" [readonly]="quest.idCuestionario !== null"
									       [(ngModel)]="quest.codigoRol" maxlength="6"
									       (change)="validateCode()" uperCaseText
									       #NGcodigo="ngModel" required/>
									<div class="ui-message ui-messages-error ui-corner-all"
									     *ngIf="f.submitted && !NGcodigo.valid">
										<i class="fa fa-close"></i>{{ 'LBL_CODIGO' | translate}} {{ 'LBL_REQUERIDO' | translate}}
									</div>
								</div>
								<div class="ui-grid-col-8">
									<label for="nombre">* {{ 'LBL_NOMBRE' | translate}}</label>
									<input type="text" pInputText id="nombre" name="codigo"
									       [(ngModel)]="quest.cuestionario" maxlength="6" titleCaseText
									       (change)="validateCode()"
									       #NGnombre="ngModel" required/>
									<div class="ui-message ui-messages-error ui-corner-all"
									     *ngIf="f.submitted && !NGnombre.valid">
										<i class="fa fa-close"></i>{{ 'LBL_NOMBRE' | translate}} {{ 'LBL_REQUERIDO' | translate}}
									</div>
								</div>
							</div>
							<div class="ui-grid-row">
								<div class="form-group col-sm-12">
									<label for="descripcion">{{ 'LBL_DESCRIPCION' | translate}}</label>
									<textarea pInputTextarea id="descripcion" name="descripcion" required
									          [(ngModel)]="quest.descripcion" maxlength="475" #NGdescripcion="ngModel"
									></textarea>
									<div class="ui-message ui-messages-error ui-corner-all"
									     *ngIf="f.submitted && !NGdescripcion.valid">
										<i class="fa fa-close"></i>{{ 'LBL_DESCRIPCION' | translate}} {{ 'LBL_REQUERIDO' | translate}}
									</div>
								</div>
							</div>
							<div class="ui-grid-row">
								<div class="form-group col-md-4" style="margin-top: 24px">
									<p-checkbox binary="true" id="indicador" name="indicador"
									            [(ngModel)]="quest.indicadorHabilitado" label="{{ 'LBL_HABILITADO' | translate}}"
									></p-checkbox>
								</div>
								<div class="form-group col-md-4" style="margin-top: 24px">
									<p-checkbox binary="true" id="ponderacion" name="ponderacion"
									            [(ngModel)]="quest.indicadorPonderacion" label="{{ 'QUESTIONNAIRES.LBL_REQUIRESAVERAGE' |
								      translate}}"
									></p-checkbox>
								</div>
								<div class="ui-grid-col-4" *ngIf="quest.indicadorPonderacion === true">
									<label for="valor">* {{ 'QUESTIONNAIRES.LBL_VALUE' | translate}}</label>
									<input type="number" pInputText id="valor" name="valor"
									       [(ngModel)]="quest.valor"
									       #NGvalor="ngModel" required/>
									<div class="ui-message ui-messages-error ui-corner-all"
									     *ngIf="f.submitted && !NGvalor.valid">
										<i class="fa fa-close"></i>{{ 'QUESTIONNAIRES.LBL_VALUE' | translate}} {{ 'LBL_REQUERIDO' | translate}}
									</div>
								</div>
							</div>
							<div class="ui-grid-row form-footer-buttons">
								<div class="ui-grid-col-4"></div>
								<div class="ui-grid-col-1">
									<a (click)="goBack((f.dirty === true))" class="cancelar">{{'BTN_CANCELAR' | translate }}</a>
								</div>
								<div class="ui-grid-col-2">
									<button pButton icon="fa-plus" label="{{'BTN_GUARDAR' | translate }}" type="submit"></button>
								</div>
								<div class="ui-grid-col-5"></div>
							</div>
						</div>
					</form>
				</fieldset>
			</p-panel>
		</div>
	</div>
	<p-panel header="{{ 'QUESTIONNAIRES.LBL_QUESTIONS' | translate}}" *ngIf="quest.idCuestionario">
		<!--<rol-fucionalities *ngIf="rol.idRol" [rol]="rol"></rol-fucionalities>-->
	</p-panel>
</div>
<p-confirmDialog width="400" #cd>
	<p-footer>
		<button type="button" pButton icon="fa-close" label="{{ 'BTN_NO' | translate}}" (click)="cd.reject()"></button>
		<button type="button" pButton icon="fa-check" label="{{ 'BTN_SI' | translate}}" (click)="cd.accept()"></button>
	</p-footer>
</p-confirmDialog>