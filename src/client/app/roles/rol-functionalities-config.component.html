<p-messages [value]="msgs"></p-messages>
<div *ngIf="rolFuncionality">
   <div class="row-fluid">
      <div class="col-md-12">
         <form novalidate>
            <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid">
               <div class="row">
                  <div class="form-group col-md-1">
                  </div>
                  <div class="ui-grid-col-10">
                     <h3><label >{{ 'ROLES.LBL_FUNCIONALIDAD' | translate}}: </label>{{rolFuncionality.menu}}</h3>
                  </div>
               </div>
            </div>
            <div class="row form-footer-buttons">
               <div class="form-group col-md-12">
                  <button icon="fa-arrow-left" label="{{ 'BTN_REGRESAR' | translate}}" type="button"
                          pButton (click)="goBack()"></button>
               </div>
            </div>
         </form>
      </div>
   </div>
</div>
<div>
   <p-tabView>
      <p-tabPanel header="{{ 'ROLES.LBL_SECCIONES' | translate }}" >
         <div class="row datable-header">
            <div class="col-md-6 col-xs-12 datatable-header-add">
            </div>
            <div class="col-md-6 col-xs-12 datatable-header-search">
               <div class="input-group">
                  <div class="input-group-addon"><i class="fa fa-search"></i></div>
                  <input #gb type="text" pInputText size="30" placeholder="{{ 'LBL_BUSCAR' | translate}}" class="form-control">
               </div>
            </div>
         </div>
         <p-dataTable emptyMessage="{{ 'MSG_NORECORDSFOUND' | translate }}" [value]="secciones" [paginator]="true"
                      [rows]="10" [responsive]="true" [globalFilter]="gb">
            <p-column field="idFuncionalidadControl" header="{{ 'LBL_ID' | translate}}" [sortable]="true"></p-column>
            <p-column field="codigo" header="{{ 'LBL_CODIGO' | translate}}" [sortable]="true"></p-column>
            <p-column field="control" header="{{ 'LBL_NOMBRE' | translate}}" [sortable]="true"></p-column>
            <p-column field="indicadorHabilitado" header="{{ 'ROLES.LBL_CONSULTAR' | translate}}" [sortable]="true" styleClass="datatable-col-center">
               <template let-lfuncionalityControl="rowData" pTemplate="body">
                  <p-inputSwitch onLabel="Si" offLabel="No" [(ngModel)]="lfuncionalityControl.indicadorHabilitado"
                                 (onChange)="changeControl(lfuncionalityControl)"></p-inputSwitch>
               </template>
            </p-column>
         </p-dataTable>
      </p-tabPanel>
      <p-tabPanel header="{{ 'ROLES.LBL_CONTROLES' | translate }}" >
         <div class="row datable-header">
            <div class="col-md-6 col-xs-12 datatable-header-add">
            </div>
            <div class="col-md-6 col-xs-12 datatable-header-search">
               <div class="input-group">
                  <div class="input-group-addon"><i class="fa fa-search"></i></div>
                  <input #gb type="text" pInputText size="30" placeholder="{{ 'LBL_BUSCAR' | translate}}" class="form-control">
               </div>
            </div>
         </div>
         <p-dataTable emptyMessage="{{ 'MSG_NORECORDSFOUND' | translate:param }}" [value]="controles" [paginator]="true"
                      [rows]="10" [responsive]="true" [globalFilter]="gb">
            <p-column field="idFuncionalidadControl" header="{{ 'LBL_ID' | translate}}" [sortable]="true"></p-column>
            <p-column field="codigo" header="{{ 'LBL_CODIGO' | translate}}" [sortable]="true"></p-column>
            <p-column field="control" header="{{ 'LBL_NOMBRE' | translate}}" [sortable]="true"></p-column>
            <p-column field="indicadorHabilitado" header="{{ 'LBL_VISUALIZAR' | translate}}" [sortable]="true" styleClass="datatable-col-center">
               <template let-lfuncionalityControl="rowData" pTemplate="body">
                  <p-inputSwitch onLabel="Si" offLabel="No" [(ngModel)]="lfuncionalityControl.indicadorHabilitado"
                                 (onChange)="changeControl(lfuncionalityControl)"></p-inputSwitch>
               </template>
            </p-column>
            <p-column field="indicadorEditar" header="{{ 'LBL_EDITAR' | translate}}" [sortable]="true" styleClass="datatable-col-center">
               <template let-lfuncionalityControl="rowData" pTemplate="body">
                  <p-inputSwitch onLabel="Si" offLabel="No" [(ngModel)]="lfuncionalityControl.indicadorEditar"
                                 (onChange)="changeControl(lfuncionalityControl)"></p-inputSwitch>
               </template>
            </p-column>
         </p-dataTable>
      </p-tabPanel>
   </p-tabView>
   
</div>
<p-confirmDialog width="400"></p-confirmDialog>
